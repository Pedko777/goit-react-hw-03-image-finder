{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/SearchBar/searchbar.module.css","services/imgApi.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","axios","defaults","baseURL","apiKey","searchQuery","page","then","response","data","hits","Searchbar","styles","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","required","onChange","placeholder","Component","ImageGalleryItem","smallImage","largeImage","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","image","key","id","webformatURL","largeImageURL","Button","Modal","closeModal","code","onClose","clickOverlay","nodeName","window","addEventListener","removeEventListener","Overlay","App","results","loading","firstFetch","handleSearchbarSubmit","query","fetchImages","imgApi","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","console","log","finally","openModal","imageUrl","modalImage","prevProps","style","position","left","transform","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af77344b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__3inal\",\"Modal\":\"modal_Modal__1dyDn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2CDfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2_RuZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__MvDzf\",\"SearchForm\":\"searchbar_SearchForm__1tYOL\",\"SearchFormButton\":\"searchbar_SearchFormButton__3u7rp\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__2IBON\",\"SearchFormInput\":\"searchbar_SearchFormInput__1fgkK\"};","import axios from 'axios';\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst apiKey = '15374361-4cc1c871c88fd85287a24e6ed';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios(\r\n    `/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImagesWithQuery };","import React, { Component } from 'react';\r\nimport styles from './searchbar.module.css';\r\n\r\nconst {\r\n  Searchbar,\r\n  SearchForm,\r\n  SearchFormButton,\r\n  SearchFormButtonLabel,\r\n  SearchFormInput,\r\n} = styles;\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n    // console.log(e.target.value)\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    \r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={Searchbar}>\r\n        <form className={SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={SearchFormButton}>\r\n            <span className={SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            required\r\n            className={SearchFormInput}\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport styles from './imageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ smallImage, largeImage, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        onClick={() => onClick(largeImage)}\r\n        src={smallImage}\r\n        alt=\"gallaryImg\"\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './imageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onClick}) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          smallImage={image.webformatURL}\r\n          largeImage={image.largeImageURL}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\n\r\nimport styles from './button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport styles from \"./modal.module.css\"\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n      window.addEventListener('keydown', this.closeModal);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.closeModal);\r\n    }\r\n  \r\n    closeModal = e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose();\r\n      }\r\n    };\r\n  \r\n    clickOverlay = e => {\r\n      if (e.target.nodeName !== 'IMG') {\r\n        this.props.onClose();\r\n      }\r\n    };\r\n  \r\n    render() {\r\n      const { largeImage } = this.props;\r\n      return (\r\n        <div onClick={this.clickOverlay} className={styles.Overlay}>\r\n          <div className={styles.Modal}>\r\n            <img src={largeImage} alt=\"modalImg\" />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  ","import React, { Component } from 'react';\nimport imgApi from './services/imgApi';\nimport styles from './App.css';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\n\n\nexport default class App extends Component {\n  state = {\n    searchQuery: '',\n    page: 1,\n    results: [],\n    loading: false,\n    firstFetch: true,\n  };\n\n  handleSearchbarSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      results: [],\n      page: 1,\n      firstFetch: true,\n    });\n  };\n\n  // componentWillMount() {\n  //   imgApi\n  //     .fetchImagesWithQuery()\n  //     .then(data => console.log(data))\n  //     .catch(error => {});\n  // }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    prevQuery !== nextQuery && this.fetchImages();\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({\n      loading: true,\n    });\n\n    imgApi\n      .fetchImagesWithQuery(searchQuery, page)\n      .then(images => {\n        this.setState(prevState => ({\n          results: [...prevState.results, ...images],\n          page: prevState.page + 1,\n        }));\n        if (!this.state.firstFetch) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        this.setState({\n          loading: false,\n          firstFetch: false,\n        });\n      });\n  };\n\n  openModal = imageUrl => {\n    this.setState({ modalImage: imageUrl });\n  };\n\n  closeModal = e => {\n    this.setState({ modalImage: null });\n  };\n\n  render() {\n    const { results, loading, modalImage } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.handleSearchbarSubmit} />\n        <ImageGallery images={results} onClick={this.openModal}/>\n        {modalImage && (\n          <Modal largeImage={modalImage} onClose={this.closeModal}/>\n        )}\n        {loading && (\n          <div\n            style={{\n              position: 'absolute',\n              left: '50%',\n              top: '50%',\n              transform: 'translate(-50%, -50%)',\n            }}\n          >\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#00BFFF\"\n              height={120}\n              width={120}\n              timeout={3000}\n            />\n          </div>\n        )}\n        {results.length > 0 && !loading && (\n          <Button onClick={this.fetchImages} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1B-v9\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__6Zwgw\"};"],"sourceRoot":""}